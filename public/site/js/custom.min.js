
//  add fixed header when scroll
$('body').scroll(function(e){
  scrollBanner()
});

$(window).resize(function(e){
  scrollBanner();
  hasReset = false;
});

///parallax effect on bg
var banners_offsets = [];
var banners_rates = [];
var hasReset = false;
var scrollTop = 0;
const main_banners = document.querySelectorAll(".parallax-banner");

if(main_banners.length){ 
main_banners.forEach((banner,index) => {
  banners_offsets.push(0);
  banners_rates.push(0.5);
  bannerPosition = banner.getBoundingClientRect().top+scrollTop
  if(banner.dataset.offset) banners_offsets[index] = parseInt(banner.dataset.offset);
  if(banner.dataset.rate) banners_rates[index] = parseFloat(banner.dataset.rate);
  if ($( window ).width() > 991.98) banner.style.backgroundPosition="0px " + (-1*(banners_offsets[index]))+"px";
  else  banner.style.backgroundPosition="0px 0px";
});

}

function scrollBanner(){
if(hasReset && $( window ).width() < 991.98) return
  scrollTop = $('body').scrollTop();
  if(main_banners.length  ){
    main_banners.forEach((banner,index) => {
      bannerPosition = banner.getBoundingClientRect().top+scrollTop
      if ($( window ).width() > 991.98)  banner.style.backgroundPosition="0px " + (scrollTop*banners_rates[index]-(banners_offsets[index]))+"px";
      else  {
        banner.style.backgroundPosition="0px 0px";    
        hasReset = true;
      }    
    });
  }
}

var current_url = (current_url = window.location.href.split("/"))[current_url.length - 1];
$(".nav-bottom-header li.nav-item").removeClass("active"), $(".nav-bottom-header").find('a[href="' + current_url + '"]').parents("li.nav-item").addClass("active"), $("body").scroll(function(o) {
  180 < $("body").scrollTop() ? $(".top-bottom").addClass("fixed-top") : $(".top-bottom").removeClass("fixed-top")
}),
$("li.dropdown").hover(function() {
  $(".dropdown-menu", this).first().stop(!0, !0).slideDown("fast"), $(this).toggleClass("open")
}, function() {
  $(".dropdown-menu", this).first().stop(!0, !0).slideUp("fast"), $(this).toggleClass("open")
}),
 $(document).ready(function() {
  $(".dataTable").dataTable({
    autoWidth: !1,
    columnDefs: [{
      targets: ["_all"],
      className: "mdc-data-table__cell"
    }],
    bPaginate: !0,
    bLengthChange: !1,
    bFilter: !0,
    bInfo: !0,
    bAutoWidth: !0,
    oLanguage: {
      sSearch: " ",
      oPaginate: {
        sPrevious: '<svg viewBox="0 0 24 24" focusable="false" class="mat-paginator-icon"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></svg>',
        sNext: '<svg viewBox="0 0 24 24" focusable="false" class="mat-paginator-icon"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></svg>'
      }
    }
  }), $('input[type="search"]').attr("placeholder", "Search ..."), $("li.dropdown").hover(function() {
    $(".dropdown-menu", this).first().stop(!0, !0).slideDown("fast"), $(this).toggleClass("open")
  }, function() {
    $(".dropdown-menu", this).first().stop(!0, !0).slideUp("fast"), $(this).toggleClass("open")
  }), $(".popup-youtube, .popup-vimeo").magnificPopup({
    disableOn: 700,
    type: "iframe",
    mainClass: "mfp-fade",
    removalDelay: 160,
    preloader: !1,
    fixedContentPos: !1,
    iframe: {
      patterns: {
        youtube: {
          index: "youtube.com/",
          id: function(o) {
            var e = o.match(/[\\?\\&]v=([^\\?\\&]+)/);
            return e && e[1] ? e[1] : null
          },
          src: "https://www.youtube.com/embed/%id%?autoplay=1"
        },
        vimeo: {
          index: "vimeo.com/",
          id: function(o) {
            var e = o.match(/(https?:\/\/)?(www.)?(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/);
            return e && e[5] ? e[5] : null
          },
          src: "https://player.vimeo.com/video/%id%?autoplay=1"
        }
      }
    }
  })
}),
$(".slick-slide-one").slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  infinite: !0,
  dots: false,
  arrows: false,
  autoplay: !0,
  responsive: [{
    breakpoint: 1025,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1,
      infinite: !0,
      dots: !1
    }
  }, {
    breakpoint: 480,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
}),
$(".slick-slide1").slick({
  slidesToShow: 4,
  slidesToScroll: 1,
  infinite: !0,
  dots: false,
  arrows: true,
  autoplay: !0,
  responsive: [{
    breakpoint: 1025,
    settings: {
      slidesToShow: 5,
      slidesToScroll: 1,
      infinite: !0,
      dots: !1
    }
  }, {
    breakpoint: 769,
    settings: {
      slidesToShow: 4,
      slidesToScroll: 1,
      infinite: !0,
      dots: !1
    }
  }, {
    breakpoint: 600,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 480,
    settings: {
      slidesToShow: 3,
      slidesToScroll: 1
    }
  }]
}),

$(".slick-slide2").slick({
  slidesToShow: 2,
  slidesToScroll: 1,
  dots: !0,
  arrows: !1,
  autoplay: !0,
  responsive: [{
    breakpoint: 1025,
    settings: {
      slidesToShow: 4,
      slidesToScroll: 1,
      infinite: !0,
      dots: !1
    }
  }, {
    breakpoint: 769,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1,
      infinite: !0,
      dots: !1
    }
  }, {
    breakpoint: 600,
    settings: {
      slidesToShow: 2,
      slidesToScroll: 1
    }
  }, {
    breakpoint: 480,
    settings: {
      slidesToShow: 1,
      slidesToScroll: 1
    }
  }]
}),

$(".open-video").click(function() {
  $(".open-video").toggle()
  $(".close-video").toggle()
  $(".fixed-popup-modal").toggle()
}),
$(".close-video").click(function() {
  $(".open-video").toggle()
  $(".close-video").toggle()
  $(".fixed-popup-modal").toggle()
});

